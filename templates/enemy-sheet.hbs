<form class="mecha-hack sheet actor enemy {{cssClass}}" autocomplete="off">
  <header class="sheet-header enemy-header">
    <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="120" width="120" />
    <div class="header-fields">
      <div class="callsign-row">
        <label>Name</label>
        <input class="callsign-input enemy-name" name="name" type="text" value="{{actor.name}}" placeholder="Enemy Name" />
        <div class="boss-field">
          <label>Boss Mode</label>
          <input type="checkbox" name="system.boss" {{#if system.boss}}checked{{/if}} />
        </div>
      </div>
      <div class="enemy-stats-row">
        <div class="enemy-stat-field hit-dice-field">
          <label>Hit Dice</label>
          <input type="text" name="system.hitDice" value="{{system.hitDice}}" placeholder="1d8" />
        </div>
        <div class="enemy-stat-field hp-field">
          <label><a class="restore-hp" title="Restore HP to Max"><i class="fas fa-plus-circle"></i></a> HP</label>
          <div class="enemy-health-inputs">
            <input type="number" name="system.hitPoints.value" value="{{system.hitPoints.value}}" min="0" />
            <span class="health-divider">/</span>
            <input type="number" name="system.hitPoints.max" value="{{system.hitPoints.max}}" min="0" />
          </div>
        </div>
        <div class="enemy-stat-field ap-field">
          <label><a class="restore-ap" title="Restore AP to Max"><i class="fas fa-wrench"></i></a> AP</label>
          <div class="enemy-health-inputs">
            <input type="number" name="system.armorPoints.value" value="{{system.armorPoints.value}}" min="0" />
            <span class="health-divider">/</span>
            <input type="number" name="system.armorPoints.max" value="{{system.armorPoints.max}}" min="0" />
          </div>
        </div>
      </div>
    </div>
  </header>

  <section class="sheet-body">
    <div class="section">
      <div class="flavour-block">
        <label>Flavour Text</label>
        <textarea name="system.flavourText" placeholder="Enemy description...">{{system.flavourText}}</textarea>
      </div>
    </div>

    <div class="item-section traits">
      <div class="item-header">
        <h3><i class="fas fa-star"></i> Traits</h3>
        <a class="item-create" data-type="enemyTrait"><i class="fas fa-plus"></i> Add</a>
      </div>
      <ul class="item-list">
        {{#each traits}}
        <li class="item" data-item-id="{{this._id}}">
          <img src="{{this.img}}" width="24" height="24" />
          <span class="name">{{this.name}}</span>
          <div class="controls">
            <a class="item-roll" title="Link to Chat" draggable="true"><i class="fas fa-comment"></i></a>
            <a class="item-edit" title="Edit"><i class="fas fa-edit"></i></a>
            <a class="item-delete-confirm" title="Delete"><i class="fas fa-trash"></i></a>
          </div>
        </li>
        {{else}}
        <li class="item item-empty"><span class="empty-slot">No traits</span></li>
        {{/each}}
      </ul>
    </div>

    <div class="item-section attacks">
      <div class="item-header">
        <h3><i class="fas fa-fist-raised"></i> Attacks</h3>
        <a class="item-create" data-type="enemyAttack"><i class="fas fa-plus"></i> Add</a>
      </div>
      <ul class="item-list">
        {{#each attacks}}
        <li class="item" data-item-id="{{this._id}}">
          <img src="{{this.img}}" width="24" height="24" />
          <span class="name">{{this.name}}</span>
          <span class="detail attack-damage">{{this.system.damage}}</span>
          <span class="detail attack-range-{{this.system.attackRange}}">{{this.system.attackRange}}</span>
          <div class="controls">
            <a class="item-roll-attack" title="Roll Attack" draggable="true"><i class="fas fa-dice-d20"></i></a>
            <a class="item-edit" title="Edit"><i class="fas fa-edit"></i></a>
            <a class="item-delete-confirm" title="Delete"><i class="fas fa-trash"></i></a>
          </div>
        </li>
        {{else}}
        <li class="item item-empty"><span class="empty-slot">No attacks</span></li>
        {{/each}}
      </ul>
    </div>

    <div class="item-section recharge-attacks">
      <div class="item-header">
        <h3><i class="fas fa-bolt"></i> Recharge Attacks</h3>
        <a class="item-create" data-type="enemyRechargeAttack"><i class="fas fa-plus"></i> Add</a>
      </div>
      <ul class="item-list">
        {{#each rechargeAttacks}}
        <li class="item" data-item-id="{{this._id}}">
          <input type="checkbox" class="recharge-ready" {{#if this.system.ready}}checked{{/if}} title="Ready" />
          <img src="{{this.img}}" width="24" height="24" />
          <span class="name">{{this.name}}</span>
          <span class="detail attack-damage">{{this.system.damage}}</span>
          <span class="detail attack-range-{{this.system.attackRange}}">{{this.system.attackRange}}</span>
          <div class="controls">
            <a class="item-roll-recharge-die" title="Roll Recharge Die" draggable="true"><i class="fas fa-sync-alt"></i></a>
            <a class="item-roll-recharge-attack" title="Roll Attack" draggable="true"><i class="fas fa-dice-d20"></i></a>
            <a class="item-edit" title="Edit"><i class="fas fa-edit"></i></a>
            <a class="item-delete-confirm" title="Delete"><i class="fas fa-trash"></i></a>
          </div>
        </li>
        {{else}}
        <li class="item item-empty"><span class="empty-slot">No recharge attacks</span></li>
        {{/each}}
      </ul>
    </div>

    <div class="boss-info-block {{#unless system.boss}}boss-disabled{{/unless}}">
      <div class="boss-info-title"><i class="fas fa-crown"></i> BOSS Class Enemies</div>
      <ul class="boss-info-list">
        <li>2 turns per moment</li>
        <li>AP = 2x number of players</li>
        <li>At 50% HP, damage die increases one step (Toggle Boss Mode)</li>
      </ul>
    </div>

    <div class="item-section boss-attacks {{#unless system.boss}}boss-disabled{{/unless}}">
      <div class="item-header">
        <h3><i class="fas fa-crown"></i> Boss Attacks</h3>
        <a class="item-create" data-type="bossAttack"><i class="fas fa-plus"></i> Add</a>
      </div>
      <ul class="item-list">
        {{#each bossAttacks}}
        <li class="item" data-item-id="{{this._id}}">
          <img src="{{this.img}}" width="24" height="24" />
          <span class="name">{{this.name}}</span>
          <span class="detail attack-damage">{{this.system.damage}}</span>
          <span class="detail attack-range-{{this.system.attackRange}}">{{this.system.attackRange}}</span>
          <div class="controls">
            <a class="item-roll-boss-attack" title="Roll Attack" draggable="true"><i class="fas fa-dice-d20"></i></a>
            <a class="item-edit" title="Edit"><i class="fas fa-edit"></i></a>
            <a class="item-delete-confirm" title="Delete"><i class="fas fa-trash"></i></a>
          </div>
        </li>
        {{else}}
        <li class="item item-empty"><span class="empty-slot">No boss attacks</span></li>
        {{/each}}
      </ul>
    </div>

    <div class="item-section boss-recharge-attacks {{#unless system.boss}}boss-disabled{{/unless}}">
      <div class="item-header">
        <h3><i class="fas fa-crown"></i> Boss Recharge Attacks</h3>
        <a class="item-create" data-type="bossRechargeAttack"><i class="fas fa-plus"></i> Add</a>
      </div>
      <ul class="item-list">
        {{#each bossRechargeAttacks}}
        <li class="item" data-item-id="{{this._id}}">
          <input type="checkbox" class="boss-recharge-ready" {{#if this.system.ready}}checked{{/if}} title="Ready" />
          <img src="{{this.img}}" width="24" height="24" />
          <span class="name">{{this.name}}</span>
          <span class="detail attack-damage">{{this.system.damage}}</span>
          <span class="detail attack-range-{{this.system.attackRange}}">{{this.system.attackRange}}</span>
          <div class="controls">
            <a class="item-roll-boss-recharge-die" title="Roll Recharge Die" draggable="true"><i class="fas fa-sync-alt"></i></a>
            <a class="item-roll-boss-recharge-attack" title="Roll Attack" draggable="true"><i class="fas fa-dice-d20"></i></a>
            <a class="item-edit" title="Edit"><i class="fas fa-edit"></i></a>
            <a class="item-delete-confirm" title="Delete"><i class="fas fa-trash"></i></a>
          </div>
        </li>
        {{else}}
        <li class="item item-empty"><span class="empty-slot">No boss recharge attacks</span></li>
        {{/each}}
      </ul>
    </div>

  </section>
</form>
